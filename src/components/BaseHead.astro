---
// Import the global.css file here so that it is included on
// all pages through the use of the <BaseHead /> component.
import "../styles/global.css";

interface Props {
	title: string;
	description: string;
	image?: string;
}

// const canonicalURL = new URL(Astro.url.pathname, Astro.site);

const { title, description, image = "/blog-placeholder-1.jpg" } = Astro.props;
// @ts-ignore
import { fetchSubscriptionStatus } from "fetch-subscription-status";
---

<!-- Global Metadata -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="icon" type="image/svg+xml" href="/images/icons/logo.svg" />
<meta name="generator" content={Astro.generator} />

<!-- Font preloads -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />
<link
	href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
	rel="stylesheet"
/>

<!-- Primary Meta Tags -->
<title>{title}</title>
<meta name="title" content={title} />
<meta name="description" content={description} />

<meta property="og:type" content="website" />
<meta property="og:url" content={Astro.url} />
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:image" content={new URL(image, Astro.url)} />
<meta property="og:image:width" content={"960"} />
<meta property="og:image:height" content={"480"} />
<meta property="og:site_name" content={"PDFEquips"} />
<meta property="og:locale" content={"en_US"} />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content={"@pdfequips"} />
<meta name="twitter:creator" content={"@pdfequips"} />
<meta name="twitter:title" content={title} />
<meta name="twitter:description" content={description} />
<meta name="twitter:image" content={new URL(image, Astro.url)} />

<script async src={`https://www.googletagmanager.com/gtag/js?id=G-NY5F91MF0B`}
></script>
<script type="text/javascript" is:inline>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag("js", new Date());
	gtag("config", "G-NY5F91MF0B");
</script>

<script define:vars={fetchSubscriptionStatus}>
	document.addEventListener("DOMContentLoaded", async () => {
		const status = await fetchSubscriptionStatus();
		if (!status) {
			const head = document.head;

			// Create and append meta tag
			const metaTag = document.createElement("meta");
			metaTag.name = "google-adsense-account";
			metaTag.content = "ca-pub-7391414384206267";
			head.appendChild(metaTag);

			// Create and append script tag
			const scriptTag = document.createElement("script");
			scriptTag.async = true;
			scriptTag.src =
				"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7391414384206267";
			scriptTag.crossOrigin = "anonymous";
			head.appendChild(scriptTag);
		}
	});
</script>
<!-- 
<meta name="google-adsense-account" content="ca-pub-7391414384206267" />
<script
	async
	src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7391414384206267"
	cross-origin="anonymous"></script>
<link
	rel="alternate"
	type="application/rss+xml"
	title="PDFEquips Blog RSS Feed"
	href="/blog/rss.xml"
/> -->

<script define:vars="{fetchSubscriptionStatus}">
	document.addEventListener("DOMContentLoaded", async () => {
		const status = await fetchSubscriptionStatus();
		if (!status) {
			const head = document.head;

			// Create and append meta tag
			const metaTag = document.createElement("meta");
			metaTag.name = "google-adsense-account";
			metaTag.content = "ca-pub-7391414384206267";
			head.appendChild(metaTag);

			// Create and append script tag
			const scriptTag = document.createElement("script");
			scriptTag.async = true;
			scriptTag.src =
				"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7391414384206267";
			scriptTag.crossOrigin = "anonymous";
			head.appendChild(scriptTag);
		}
	});
</script>
